# ============================================
# Environment Variables Template
# ============================================
# This file serves as a template for required environment variables.
# Copy this file to .env.local for local development.
#
# SECRET VALUES are managed in Infisical:
# https://app.infisical.com/project/f1d80438-52d5-4151-92cc-4c40b8701d50
#
# Run: infisical run --env=dev -- npm run dev
# ============================================

# ---------------------------------------------
# Infisical-Managed Secrets (DO NOT enter here)
# ---------------------------------------------
# These values are injected by Infisical CLI
# DATABASE_URL=postgresql://user:password@localhost:5432/dbname
# GOOGLE_CLIENT_EMAIL=your-service-account@project.iam.gserviceaccount.com
# GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
# GOOGLE_DRIVE_FOLDER_ID=your-folder-id
# RESEND_API_KEY=re_xxxxxxxxx
# FROM_EMAIL=noreply@yourdomain.com
# ZHIPU_AI_API_KEY=your-zhipu-ai-api-key
# TINIFY_API_KEY=your-tinify-api-key
# APDF_API_KEY=your-apdf-io-api-key

# Stripe Payment Integration
# Get your keys from: https://dashboard.stripe.com/apikeys
# STRIPE_SECRET_KEY=sk_test_your_secret_key_here
# STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# Stripe Price IDs (Create these in your Stripe Dashboard)
# STRIPE_PREMIUM_MONTHLY_PRICE_ID=price_xxx
# STRIPE_PREMIUM_YEARLY_PRICE_ID=price_xxx
# STRIPE_PREMIUM_PLUS_MONTHLY_PRICE_ID=price_xxx
# STRIPE_PREMIUM_PLUS_YEARLY_PRICE_ID=price_xxx

# ---------------------------------------------
# Client-Side Variables (keep in local .env)
# ---------------------------------------------
# These are exposed to the browser and are non-sensitive
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Socket.io WebSocket Server URL (for real-time messaging)
# External Render server: https://book-heaven-socket-server.onrender.com
# Leave empty to disable WebSocket and use HTTP polling fallback only
NEXT_PUBLIC_WS_URL=http://localhost:3001

# WebSocket Server URL (server-side, same as NEXT_PUBLIC_WS_URL)
# Used by API routes to trigger broadcasts
WEBSOCKET_SERVER_URL=http://localhost:3001

# WebSocket API Key for webhook authentication
# Must match the WEBHOOK_API_KEY on the Socket.io server
# Generate a secure random key for production
WEBSOCKET_API_KEY=

# PDF Processor API Key for service-to-service authentication
# Must match the MAIN_APP_API_KEY on the PDF processor service
# Generate a secure random key for production
PDF_PROCESSOR_API_KEY=

# PDF Processor Service URL
# The URL of the PDF processor service for generating embeddings, summaries, and questions
# PDF_PROCESSOR_URL=http://localhost:3002

BASE_URL=http://localhost:3000

# ---------------------------------------------
# Optional Variables
# ---------------------------------------------
# ZHIPU_AI_MODEL=glm-4.7

# AI Chat Providers (Dual Provider with Automatic Fallback)
# The system uses Zhipu AI (z.ai) as primary provider and automatically falls back to Gemini if quota/limit is exceeded
#
# Primary Provider: Zhipu AI (z.ai)
# - Premium quality model (glm-4.7)
# - You already have the API key configured
# - Very affordable: ~$0.60 per million tokens
# - Models: glm-4.7, glm-4-flash, glm-4-air
#
# Fallback Provider: Gemini AI
# - Free tier available
# - Automatically used when z.ai hits quota/limit
# - Get your key from: https://makersuite.google.com/app/apikey
# - GEMINI_API_KEY=your-gemini-api-key
# - GEMINI_CHAT_MODEL=gemini-2.0-flash
#
# Both providers use the same embedding model for RAG:
# GEMINI_EMBEDDING_MODEL=text-embedding-004

# Embeddings Database (separate pgvector database for RAG-style chat)
# This database stores vector embeddings for semantic search
# If not set, chat will fall back to full-content extraction
# EMBEDDING_DATABASE_URL=postgresql://user:password@localhost:5432/embeddings_db

# Redis (for job queue - optional)
# If not configured, jobs will be processed synchronously
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# ---------------------------------------------
# OAuth / Social Login
# ---------------------------------------------
# Google OAuth 2.0
# Get credentials from: https://console.cloud.google.com/apis/credentials
# Create an OAuth 2.0 Client ID for a Web Application
# GOOGLE_OAUTH_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# GOOGLE_OAUTH_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
# Get credentials from: https://github.com/settings/developers
# Register a new OAuth App
# GITHUB_OAUTH_CLIENT_ID=your-github-client-id
# GITHUB_OAUTH_CLIENT_SECRET=your-github-client-secret
